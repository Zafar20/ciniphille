"use strict";(self["webpackChunkcinephile"]=self["webpackChunkcinephile"]||[]).push([[743],{3124:function(t,n,e){e.d(n,{Z:function(){return y}});var i=e(3396),s=e(7139);const o={class:"container"},a={key:0,class:"main__content"},c={class:"title"},l={class:"main__content-list"},r={key:1,class:"main__popular center"},g=(0,i._)("div",{class:"main__popular-spinner"},null,-1),m=[g];function h(t,n,e,g,h,u){const d=(0,i.up)("ContentItem");return(0,i.wg)(),(0,i.iD)("div",o,[h.list.length?((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("h2",c,(0,s.zw)("movie"==e.content?"Все фильмы":"Все сериалы"),1),(0,i._)("div",l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(h.list,(n=>((0,i.wg)(),(0,i.j4)(d,{key:n.id,movie:n,getImagesPath:t.getImagesPath,content:e.content},null,8,["movie","getImagesPath","content"])))),128))])])):(0,i.kq)("",!0),h.loading?((0,i.wg)(),(0,i.iD)("div",r,m)):(0,i.kq)("",!0)])}const u=["src"],d={class:"main__content-title"};function v(t,n,e,o,a,c){const l=(0,i.up)("router-link");return(0,i.wg)(),(0,i.j4)(l,{to:e.content+"/"+e.movie.id,class:"main__content-item"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:e.getImagesPath+e.movie.backdrop_path,alt:"",loading:"lazy",class:"main__content-img"},null,8,u),(0,i._)("h2",d,(0,s.zw)(c.info),1)])),_:1},8,["to"])}var p={props:["movie","getImagesPath","content"],computed:{info(){return"movie"==this.content?this.movie.title:this.movie.name}}},_=e(89);const w=(0,_.Z)(p,[["render",v]]);var f=w,k=e(65),C={props:{content:String},components:{ContentItem:f},data(){return{page:1,loading:!1,list:[]}},methods:{async getContent(){if(!this.loading){this.loading=!0;let t="movie"==this.content?"movies/getMovies":"serials/getSerials";await this.$store.dispatch(`${t}`,this.page);let n="movie"==this.content?"movies/getAllMovies":"serials/getAllserials";const e=this.$store.getters[`${n}`],i=[...e];this.list.push(...i),this.loading=!1,this.page++}}},computed:{...(0,k.Se)("movies",["getAllMovies","getImagesPath"])},mounted(){window.addEventListener("scroll",(()=>{window.scrollY+window.innerHeight>=document.body.scrollHeight&&this.getContent()})),this.getContent()}};const I=(0,_.Z)(C,[["render",h]]);var y=I},743:function(t,n,e){e.r(n),e.d(n,{default:function(){return g}});var i=e(3396);const s={class:"main"};function o(t,n,e,o,a,c){const l=(0,i.up)("ContentList");return(0,i.wg)(),(0,i.iD)("main",s,[(0,i.Wm)(l,{content:"tv"})])}var a=e(3124),c={components:{ContentList:a.Z}},l=e(89);const r=(0,l.Z)(c,[["render",o]]);var g=r}}]);